<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>functional-dag: fn_dag::library Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">functional-dag
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacefn__dag.html">fn_dag</a></li><li class="navelem"><a class="el" href="classfn__dag_1_1library.html">library</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classfn__dag_1_1library-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">fn_dag::library Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>(Library related) A library defines what is needed to construct a dag tree.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="lib__utils_8h_source.html">lib_utils.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a63086f23c997433bad933315bc14b030" id="r_a63086f23c997433bad933315bc14b030"><td class="memItemLeft" align="right" valign="top">expected&lt; bool, <a class="el" href="namespacefn__dag.html#a95bdb225cbc8103597fb864ea6696e7a">fn_dag::error_codes</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a63086f23c997433bad933315bc14b030">load_lib</a> (const fs::path _lib_path)</td></tr>
<tr class="memdesc:a63086f23c997433bad933315bc14b030"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function loads the library and keeps the constructor around for subsequent asks to create the node.  <br /></td></tr>
<tr class="separator:a63086f23c997433bad933315bc14b030"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae262f3889337fb76fca59d7681ffcd38" id="r_ae262f3889337fb76fca59d7681ffcd38"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae262f3889337fb76fca59d7681ffcd38">load_all_available_libs</a> (const fs::directory_entry &amp;_library_path)</td></tr>
<tr class="memdesc:ae262f3889337fb76fca59d7681ffcd38"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is for convenience.  <br /></td></tr>
<tr class="separator:ae262f3889337fb76fca59d7681ffcd38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6b1e30da8ddfd2d61088630f728413d" id="r_ac6b1e30da8ddfd2d61088630f728413d"><td class="memItemLeft" align="right" valign="top">expected&lt; <a class="el" href="classfn__dag_1_1dag__manager.html">fn_dag::dag_manager</a>&lt; string &gt; *, <a class="el" href="namespacefn__dag.html#a95bdb225cbc8103597fb864ea6696e7a">fn_dag::error_codes</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac6b1e30da8ddfd2d61088630f728413d">fsys_deserialize</a> (const string &amp;_json_in)</td></tr>
<tr class="memdesc:ac6b1e30da8ddfd2d61088630f728413d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Takes highly structured JSON in and turns it into a lambda dag.  <br /></td></tr>
<tr class="separator:ac6b1e30da8ddfd2d61088630f728413d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a26a3414d25d20f881fad7edb48e74e52" id="r_a26a3414d25d20f881fad7edb48e74e52"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a26a3414d25d20f881fad7edb48e74e52">preflight_lib</a> (const fs::path _lib_path)</td></tr>
<tr class="memdesc:a26a3414d25d20f881fad7edb48e74e52"><td class="mdescLeft">&#160;</td><td class="mdescRight">A quick and easy function to test whether a dynamic library conforms to the library specifications.  <br /></td></tr>
<tr class="separator:a26a3414d25d20f881fad7edb48e74e52"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:ab552de86bbd7bd4ae3c4bbabf4dec252" id="r_ab552de86bbd7bd4ae3c4bbabf4dec252"><td class="memItemLeft" align="right" valign="top">expected&lt; bool, <a class="el" href="namespacefn__dag.html#a95bdb225cbc8103597fb864ea6696e7a">fn_dag::error_codes</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab552de86bbd7bd4ae3c4bbabf4dec252">_create_node</a> (<a class="el" href="classfn__dag_1_1dag__manager.html">dag_manager</a>&lt; string &gt; &amp;_manager, const fn_dag::node_spec *const _spec)</td></tr>
<tr class="memdesc:ab552de86bbd7bd4ae3c4bbabf4dec252"><td class="mdescLeft">&#160;</td><td class="mdescRight">Private function to verify parameters, create the node, and attach it.  <br /></td></tr>
<tr class="separator:ab552de86bbd7bd4ae3c4bbabf4dec252"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:ad02a3a5bd2c638a6f10fb41c15cc5bb2" id="r_ad02a3a5bd2c638a6f10fb41c15cc5bb2"><td class="memItemLeft" align="right" valign="top"><a id="ad02a3a5bd2c638a6f10fb41c15cc5bb2" name="ad02a3a5bd2c638a6f10fb41c15cc5bb2"></a>
map&lt; <a class="el" href="classfn__dag_1_1_g_u_i_d.html">GUID</a>&lt; node_spec &gt;, function&lt; construction_signature &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>m_constructors</b></td></tr>
<tr class="memdesc:ad02a3a5bd2c638a6f10fb41c15cc5bb2"><td class="mdescLeft">&#160;</td><td class="mdescRight">A mapping between IDs to the constructors that create the nodes; The user will need to define these libraries.constructors in their dynamic libraries. <br /></td></tr>
<tr class="separator:ad02a3a5bd2c638a6f10fb41c15cc5bb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a704b08a674592b2105353e4ab50661b8" id="r_a704b08a674592b2105353e4ab50661b8"><td class="memItemLeft" align="right" valign="top"><a id="a704b08a674592b2105353e4ab50661b8" name="a704b08a674592b2105353e4ab50661b8"></a>
map&lt; <a class="el" href="classfn__dag_1_1_g_u_i_d.html">GUID</a>&lt; node_spec &gt;, vector&lt; <a class="el" href="structfn__dag_1_1option__spec.html">option_spec</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>m_options</b></td></tr>
<tr class="memdesc:a704b08a674592b2105353e4ab50661b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is a parallel data structure that ensures that whatever options/parameters are passed to it at runtime conform to the expectations of the constructors signature. <br /></td></tr>
<tr class="separator:a704b08a674592b2105353e4ab50661b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>(Library related) A library defines what is needed to construct a dag tree. </p>
<p>The library is a utility that defines an interface for dynamic libraries to be loaded into the library. Once a set number of nodes are available to be constructed from the dynamic libraries, users can define a "pipe" which represents the dag to be added to a manager to be managed. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="ab552de86bbd7bd4ae3c4bbabf4dec252" name="ab552de86bbd7bd4ae3c4bbabf4dec252"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab552de86bbd7bd4ae3c4bbabf4dec252">&#9670;&#160;</a></span>_create_node()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">expected&lt; bool, <a class="el" href="namespacefn__dag.html#a95bdb225cbc8103597fb864ea6696e7a">fn_dag::error_codes</a> &gt; fn_dag::library::_create_node </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfn__dag_1_1dag__manager.html">dag_manager</a>&lt; string &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>_manager</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const fn_dag::node_spec *const</td>          <td class="paramname"><span class="paramname"><em>_spec</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Private function to verify parameters, create the node, and attach it. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_manager</td><td>A dag manager to attach the new node to. </td></tr>
    <tr><td class="paramname">_spec</td><td>Specifications about which node and what parameters should be used to create it. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If successful, returns true but if not, then it returns an error code. </dd></dl>

</div>
</div>
<a id="ac6b1e30da8ddfd2d61088630f728413d" name="ac6b1e30da8ddfd2d61088630f728413d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6b1e30da8ddfd2d61088630f728413d">&#9670;&#160;</a></span>fsys_deserialize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">expected&lt; <a class="el" href="classfn__dag_1_1dag__manager.html">fn_dag::dag_manager</a>&lt; string &gt; *, <a class="el" href="namespacefn__dag.html#a95bdb225cbc8103597fb864ea6696e7a">fn_dag::error_codes</a> &gt; fn_dag::library::fsys_deserialize </td>
          <td>(</td>
          <td class="paramtype">const string &amp;</td>          <td class="paramname"><span class="paramname"><em>_json_in</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel nodiscard">nodiscard</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Takes highly structured JSON in and turns it into a lambda dag. </p>
<p>In some ways this can be considered the casual user's interface to this entire library. This function will connect the functional dag's functionality to a simple JSON specification. It will check if the node specified in the JSON file is available.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_json_in</td><td>The JSON specification to create the DAG structure. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A normal dag manager to start/stop/modify if successful and an error if unsuccessful. </dd></dl>

</div>
</div>
<a id="ae262f3889337fb76fca59d7681ffcd38" name="ae262f3889337fb76fca59d7681ffcd38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae262f3889337fb76fca59d7681ffcd38">&#9670;&#160;</a></span>load_all_available_libs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fn_dag::library::load_all_available_libs </td>
          <td>(</td>
          <td class="paramtype">const fs::directory_entry &amp;</td>          <td class="paramname"><span class="paramname"><em>_library_path</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is for convenience. </p>
<p>This function takes a directory and iterates through the .so or .dylibs. It will preflight them and load them if they are indeed compatible.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_library_path</td><td>A path where many .so and .dylibs are expected to be. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a63086f23c997433bad933315bc14b030" name="a63086f23c997433bad933315bc14b030"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63086f23c997433bad933315bc14b030">&#9670;&#160;</a></span>load_lib()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">expected&lt; bool, <a class="el" href="namespacefn__dag.html#a95bdb225cbc8103597fb864ea6696e7a">fn_dag::error_codes</a> &gt; fn_dag::library::load_lib </td>
          <td>(</td>
          <td class="paramtype">const fs::path</td>          <td class="paramname"><span class="paramname"><em>_lib_path</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel nodiscard">nodiscard</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function loads the library and keeps the constructor around for subsequent asks to create the node. </p>
<p>It is recommended to preflight the library before loading it but not necessary. This is only due to the heavyweight nature of this funciton compared to preflight. Once The library is known to be compatible with the signatures, then this function will load the dynamic library and store it's constructors and specifications to be used later during construction.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_lib_path</td><td>The path to the dynamic library. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if successfully loaded; otherwise an error code is passed providing more info. </dd></dl>

</div>
</div>
<a id="a26a3414d25d20f881fad7edb48e74e52" name="a26a3414d25d20f881fad7edb48e74e52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26a3414d25d20f881fad7edb48e74e52">&#9670;&#160;</a></span>preflight_lib()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool fn_dag::library::preflight_lib </td>
          <td>(</td>
          <td class="paramtype">const fs::path</td>          <td class="paramname"><span class="paramname"><em>_lib_path</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span><span class="mlabel nodiscard">nodiscard</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A quick and easy function to test whether a dynamic library conforms to the library specifications. </p>
<p>If the user of the library would like to check if a dynamic library could be tracked and used to create nodes, then this function will help you check. It's meant to be a stateless way to just double check before asking the library to load it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_lib_path</td><td>The path to the dynamic library </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if loadable; false otherwise. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.1
</small></address>
</div><!-- doc-content -->
</body>
</html>
