<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>functional-dag: fn_dag::dag&lt; OriginType, IDType &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">functional-dag
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacefn__dag.html">fn_dag</a></li><li class="navelem"><a class="el" href="classfn__dag_1_1dag.html">dag</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classfn__dag_1_1dag-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">fn_dag::dag&lt; OriginType, IDType &gt; Class Template Reference</div></div>
</div><!--header-->
<div class="contents">

<p>The main DAG function that encapulates generation and mapping of the data across the DAG.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="dag__impl_8hpp_source.html">dag_impl.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for fn_dag::dag&lt; OriginType, IDType &gt;:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classfn__dag_1_1dag.png" alt=""/>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa19cc16c339daac7f2b8595ca795319a" id="r_aa19cc16c339daac7f2b8595ca795319a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa19cc16c339daac7f2b8595ca795319a">dag</a> (const IDType &amp;_id, <a class="el" href="classfn__dag_1_1dag__source.html">dag_source</a>&lt; OriginType &gt; *_lsource, const _dag_context &amp;_context, bool _startThread)</td></tr>
<tr class="memdesc:aa19cc16c339daac7f2b8595ca795319a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor of the DAG.  <br /></td></tr>
<tr class="separator:aa19cc16c339daac7f2b8595ca795319a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2be6e30b86242d353da8bf52b42335cb" id="r_a2be6e30b86242d353da8bf52b42335cb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2be6e30b86242d353da8bf52b42335cb">~dag</a> ()</td></tr>
<tr class="memdesc:a2be6e30b86242d353da8bf52b42335cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default deconstructor.  <br /></td></tr>
<tr class="separator:a2be6e30b86242d353da8bf52b42335cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d988200c9d2a751dae61d303016c2ff" id="r_a6d988200c9d2a751dae61d303016c2ff"><td class="memItemLeft" align="right" valign="top">const IDType &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6d988200c9d2a751dae61d303016c2ff">get_id</a> ()</td></tr>
<tr class="memdesc:a6d988200c9d2a751dae61d303016c2ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Simple getter for the ID of the DAG itself.  <br /></td></tr>
<tr class="separator:a6d988200c9d2a751dae61d303016c2ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade3e08be10074b0ee118ac246e43c786" id="r_ade3e08be10074b0ee118ac246e43c786"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ade3e08be10074b0ee118ac246e43c786">manual_pump</a> (const unique_ptr&lt; OriginType &gt; _raw_dat)</td></tr>
<tr class="memdesc:ade3e08be10074b0ee118ac246e43c786"><td class="mdescLeft">&#160;</td><td class="mdescRight">Manually pumps some data across the children of the DAG.  <br /></td></tr>
<tr class="separator:ade3e08be10074b0ee118ac246e43c786"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc269464f34f0f4059878be4f708c755" id="r_afc269464f34f0f4059878be4f708c755"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afc269464f34f0f4059878be4f708c755">dag_contains</a> (const IDType &amp;_id)</td></tr>
<tr class="memdesc:afc269464f34f0f4059878be4f708c755"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks whether this DAG contains a specific ID.  <br /></td></tr>
<tr class="separator:afc269464f34f0f4059878be4f708c755"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3e2e0970b4ede25a03e17940cd0f586" id="r_af3e2e0970b4ede25a03e17940cd0f586"><td class="memTemplParams" colspan="2">template&lt;typename In, typename Out&gt; </td></tr>
<tr class="memitem:af3e2e0970b4ede25a03e17940cd0f586"><td class="memTemplItemLeft" align="right" valign="top">expected&lt; IDType, <a class="el" href="namespacefn__dag.html#a95bdb225cbc8103597fb864ea6696e7a">error_codes</a> &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#af3e2e0970b4ede25a03e17940cd0f586">add_filter</a> (IDType _newID, <a class="el" href="classfn__dag_1_1dag__node.html">dag_node</a>&lt; In, Out &gt; *_new_filter, IDType _on_node)</td></tr>
<tr class="memdesc:af3e2e0970b4ede25a03e17940cd0f586"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a new function to the DAG.  <br /></td></tr>
<tr class="separator:af3e2e0970b4ede25a03e17940cd0f586"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4c7dbd54a4ecd7c2f6dc85aad86af84" id="r_aa4c7dbd54a4ecd7c2f6dc85aad86af84"><td class="memItemLeft" align="right" valign="top"><a id="aa4c7dbd54a4ecd7c2f6dc85aad86af84" name="aa4c7dbd54a4ecd7c2f6dc85aad86af84"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>print</b> ()</td></tr>
<tr class="memdesc:aa4c7dbd54a4ecd7c2f6dc85aad86af84"><td class="mdescLeft">&#160;</td><td class="mdescRight">Simple print function to print the ID of this DAG and it's children. <br /></td></tr>
<tr class="separator:aa4c7dbd54a4ecd7c2f6dc85aad86af84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21c49e9707ad9289869bdfce5464e86b" id="r_a21c49e9707ad9289869bdfce5464e86b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a21c49e9707ad9289869bdfce5464e86b">push_once</a> ()</td></tr>
<tr class="memdesc:a21c49e9707ad9289869bdfce5464e86b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs the generator and begins propagating the data to it's children.  <br /></td></tr>
<tr class="separator:a21c49e9707ad9289869bdfce5464e86b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><div class="compoundTemplParams">template&lt;typename OriginType, typename IDType&gt;<br />
class fn_dag::dag&lt; OriginType, IDType &gt;</div><p>The main DAG function that encapulates generation and mapping of the data across the DAG. </p>
<p>The DAG calls the source generator to generate some data. That data is then propagated to it's children and across the entire DAG. The DAG stops propagating across the children of any node of the DAG if the previous parent returns nullptr. Otherwise, this runs either multithreaded or single threaded and can be manually manipulated (i.e. skip the generator) by turning it off and manually calling the <em>manual_pump</em> function. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aa19cc16c339daac7f2b8595ca795319a" name="aa19cc16c339daac7f2b8595ca795319a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa19cc16c339daac7f2b8595ca795319a">&#9670;&#160;</a></span>dag()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename OriginType, typename IDType&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfn__dag_1_1dag.html">fn_dag::dag</a>&lt; OriginType, IDType &gt;::dag </td>
          <td>(</td>
          <td class="paramtype">const IDType &amp;</td>          <td class="paramname"><span class="paramname"><em>_id</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classfn__dag_1_1dag__source.html">dag_source</a>&lt; OriginType &gt; *</td>          <td class="paramname"><span class="paramname"><em>_lsource</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const _dag_context &amp;</td>          <td class="paramname"><span class="paramname"><em>_context</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>_startThread</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor of the DAG. </p>
<p>Ideally this is created in the manager but you can create your own DAG if you'd like.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_id</td><td>The ID of the DAG itself </td></tr>
    <tr><td class="paramname">_lsource</td><td>The main generator (source) of the DAG. Where data originates </td></tr>
    <tr><td class="paramname">_context</td><td>The context shared across the DAG </td></tr>
    <tr><td class="paramname">_startThread</td><td>Whether or not to autostart calling the generator function </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2be6e30b86242d353da8bf52b42335cb" name="a2be6e30b86242d353da8bf52b42335cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2be6e30b86242d353da8bf52b42335cb">&#9670;&#160;</a></span>~dag()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename OriginType, typename IDType&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfn__dag_1_1dag.html">fn_dag::dag</a>&lt; OriginType, IDType &gt;::~<a class="el" href="classfn__dag_1_1dag.html">dag</a> </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Default deconstructor. </p>
<p>Waits for children to stop before cleaning up. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="af3e2e0970b4ede25a03e17940cd0f586" name="af3e2e0970b4ede25a03e17940cd0f586"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3e2e0970b4ede25a03e17940cd0f586">&#9670;&#160;</a></span>add_filter()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename OriginType, typename IDType&gt; </div>
<div class="memtemplate">
template&lt;typename In, typename Out&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">expected&lt; IDType, <a class="el" href="namespacefn__dag.html#a95bdb225cbc8103597fb864ea6696e7a">error_codes</a> &gt; <a class="el" href="classfn__dag_1_1dag.html">fn_dag::dag</a>&lt; OriginType, IDType &gt;::add_filter </td>
          <td>(</td>
          <td class="paramtype">IDType</td>          <td class="paramname"><span class="paramname"><em>_newID</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classfn__dag_1_1dag__node.html">dag_node</a>&lt; In, Out &gt; *</td>          <td class="paramname"><span class="paramname"><em>_new_filter</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IDType</td>          <td class="paramname"><span class="paramname"><em>_on_node</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel nodiscard">nodiscard</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds a new function to the DAG. </p>
<p>Since the generator already exists, this function recursively calls itself with the parents nodes type and, in a strongly typed way, attaches a child to the parent to process the data output by the parent node.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_newID</td><td>The ID of the new function </td></tr>
    <tr><td class="paramname">_new_filter</td><td>The mapping function itself to pass along </td></tr>
    <tr><td class="paramname">_on_node</td><td>The ID of the parent to attach the function to. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A parent ID if successfully added to the dag. Otherwise an error code. </dd></dl>

</div>
</div>
<a id="afc269464f34f0f4059878be4f708c755" name="afc269464f34f0f4059878be4f708c755"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc269464f34f0f4059878be4f708c755">&#9670;&#160;</a></span>dag_contains()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename OriginType, typename IDType&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classfn__dag_1_1dag.html">fn_dag::dag</a>&lt; OriginType, IDType &gt;::dag_contains </td>
          <td>(</td>
          <td class="paramtype">const IDType &amp;</td>          <td class="paramname"><span class="paramname"><em>_id</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks whether this DAG contains a specific ID. </p>
<p>Given an ID, it will check the optimized hash set to see if the child exists.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_id</td><td>The ID to lookup </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Whether or not the DAG contains the ID. </dd></dl>

</div>
</div>
<a id="a6d988200c9d2a751dae61d303016c2ff" name="a6d988200c9d2a751dae61d303016c2ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d988200c9d2a751dae61d303016c2ff">&#9670;&#160;</a></span>get_id()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename OriginType, typename IDType&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const IDType &amp; <a class="el" href="classfn__dag_1_1dag.html">fn_dag::dag</a>&lt; OriginType, IDType &gt;::get_id </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Simple getter for the ID of the DAG itself. </p>
<p>Gets the ID of the DAG.</p>
<dl class="section return"><dt>Returns</dt><dd>ID of the DAG </dd></dl>

</div>
</div>
<a id="ade3e08be10074b0ee118ac246e43c786" name="ade3e08be10074b0ee118ac246e43c786"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade3e08be10074b0ee118ac246e43c786">&#9670;&#160;</a></span>manual_pump()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename OriginType, typename IDType&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classfn__dag_1_1dag.html">fn_dag::dag</a>&lt; OriginType, IDType &gt;::manual_pump </td>
          <td>(</td>
          <td class="paramtype">const unique_ptr&lt; OriginType &gt;</td>          <td class="paramname"><span class="paramname"><em>_raw_dat</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Manually pumps some data across the children of the DAG. </p>
<p>This is a useful function for testing. It <em>skips</em> the generator and pushes the test source data across the DAGs children.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_raw_dat</td><td>The raw data that the user provides. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a21c49e9707ad9289869bdfce5464e86b" name="a21c49e9707ad9289869bdfce5464e86b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21c49e9707ad9289869bdfce5464e86b">&#9670;&#160;</a></span>push_once()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename OriginType, typename IDType&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classfn__dag_1_1dag.html">fn_dag::dag</a>&lt; OriginType, IDType &gt;::push_once </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Runs the generator and begins propagating the data to it's children. </p>
<p>This function can be called from the thread on a loop or called on a single thread. This encapsulates a single pass across the DAG. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.1
</small></address>
</div><!-- doc-content -->
</body>
</html>
